function isKeywordLegal(a){if(a=="%5C"){return false;}return true;}function doSubmit(){var c=document.getElementById("hdnTarget").value;var a=$(".J_autofill")[0];var d=trim(a.value);if(d==""||d=="*"){a.value="";a.focus();return;}if(d.length>100){alert("关键词不能超过100个字符，请重新输入");return;}d=encodeURIComponent(d);d=getParams(d);var b=c.replace("%23keyword%23",d);b=b.replace("#keyword#",d);if(isKeywordLegal(d)){setTimeout(function(){goUrlByATag(b);},10);}else{b=b.replace(d,"").trim();b+="?keyWord="+d;setTimeout(function(){goUrlByATag(b);},10);}if(typeof(doAfterSearch)!="undefined"){doAfterSearch();}}function searchfrm(b,d){var a=b[0].value;var c=b[1].value;if(c){var e=a.replace("[##]",getParams(c));b.action=e;b.target="_self";return true;}return false;}function searchfrm1(){var a=document.getElementById("frmf5id").value;if(a){document.getElementById("kwid").value=encodeURIComponent(a);return true;}return false;}function formSubmit(a){document.getElementById(a).submit();}function submit_search(a){$(a).next("input:submit:first").trigger("click");return false;}function submit_search_b(b){$("#formid").attr("action",_basePath+"search/s/___image________________[###].html");var c=$(".header-search-key").val();if(c==""){return false;}var a=$("#formid").attr("action");var a=a.replace("[###]",encodeURIComponent(c));$("#formid").attr("action",a);$(b).next("input:submit:first").trigger("click");$("#formid").attr("action",a);return true;}function goUrlByATag(b){var c=document.createElement("a");document.body.appendChild(c);c.href=b;if(c.click){c.click();}else{try{var a=document.createEvent("Event");a.initEvent("click",true,true);c.dispatchEvent(a);}catch(d){window.localhost.href=b;}}}function trim(c){var b=/^\s*|\s*$/g;if(typeof(c)!="undefined"){var a=c.replace(b,"");return a;}else{return"";}}function goUrlByATag(b){var c=document.createElement("a");document.body.appendChild(c);c.href=b;if(c.click){c.click();}else{try{var a=document.createEvent("Event");a.initEvent("click",true,true);c.dispatchEvent(a);}catch(d){window.localhost.href=b;}}}function getParams(a){a=a.replace(/_/g,"");a=a.replace(/\//g,"");a=encodeURIComponent(a);a=a.replace(/%2F/,"/");return a;}